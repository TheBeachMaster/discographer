function traps_runOnTrap()
{
	exiting=yes
	local trapHandler
	for trapHandler in "${trapHandlers[@]}"
	do
		$trapHandler
	done
}

function traps_addNextTrapHandler()
{
	local trapHandler="$1"
	trap traps_runOnTrap 0 HUP INT QUIT ILL ABRT FPE SEGV PIPE TERM EXIT
	trapHandlers+=("$trapHandler")
}

# not used currently
function traps_removeLastTrapHandler()
{
	unset trapHandlers[$((${#trapHandlers[*]}-1))]
}
